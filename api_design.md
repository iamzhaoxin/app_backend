# 概览
| 请求 | 响应 |
| :----: | :----: |
| 进入APP | 校内新闻 |
| 个人信息 | 昵称&头像&身份|
| 注册#学号&密码| 成功or失败 |
| 设置#昵称&头像&身份 | 保存成功or失败 |
| 登陆#账号&密码 | 成功or失败 |
| 消息(动态) | 消息列表&是否已读 |
| 某条消息id | 消息已读&招领帖子 |
| 进入失物招领 | 所有招领信息 |
| 发帖#图文 | 存库,反馈成功 |
| 评论#图文&帖子id | 存库 |

# 接口说明

## 1. 用户相关

### 1.1 登陆

#### 1.1.1. 简要描述

+ 用户登陆，返回信息

#### 1.1.2. 请求URL

+ `http://ip:port/login/login`

#### 1.1.3. 请求方式

+ POST

#### 1.1.4. 参数

| 参数名   | 类型   | 说明   |
| -------- | ------ | ------ |
| id       | int    | 用户id |
| password | string | 密码   |

#### 1.1.5. 返回示例

+ 状态码

  + 400

    + -1: 未使用POST访问
    + 1: id未注册
    + 2: 密码错误

  + 200

    ```json
    {
        "id": 123,
        "name": "xin",
        "img": "images/img.jpg",
        "identity": "student"
    }
    ```

#### 1.1.6. 备注

:no_entry: 返回的`img`是图片在服务器中的路径，不是文件，以后改……

### 1.2 注册

#### 1.2.1. 简要描述

+ 注册用户，返回信息

#### 1.2.2. 请求URL

+ `http://ip:port/login/registered`

#### 1.2.3. 请求方式

+ POST

#### 1.2.4. 参数

| 参数名   | 类型    | 说明               |
| -------- | ------- | ------------------ |
| id       | int     | 用户id             |
| name     | string  | 昵称（不超20字符） |
| password | string  | 密码（不超20字符） |
| file     | jpg/png | 头像（图片文件）   |
| identity | string  | 身份（不超20字符） |

#### 1.2.5. 返回示例

+ 状态码

  + 400

    + -1: 未使用POST访问
    + 1: id已被注册

  + 200

    ```json
    {
        "id": 123,
        "name": "xin",
        "img": "images/img.jpg",
        "identity": "student"
    }
    ```

#### 1.2.6. 备注

:no_entry: 返回的`img`是图片在服务器中的路径，不是文件，以后改……

### 1.3 修改昵称

#### 1.3.1. 简要描述

+ 修改用户name，返回信息

#### 1.3.2. 请求URL

+ `http://ip:port/login/changename`

#### 1.3.3. 请求方式

+ POST

#### 1.3.4. 参数

| 参数名 | 类型   | 说明               |
| ------ | ------ | ------------------ |
| id     | int    | 用户id             |
| name   | string | 昵称（不超20字符） |

#### 1.3.5. 返回示例

+ 状态码

  + 400

    + -1: 未使用POST访问
    + 1: id未注册
  + 2: 查询到name修改失败
  
+ 200
  
    ```json
    {
        "id": 123,
        "name": "xin",
        "img": "images/img.jpg",
        "identity": "student"
    }
    ```

#### 1.3.6. 备注

:no_entry: 返回的`img`是图片在服务器中的路径，不是文件，以后改……

### 1.4 修改密码

#### 1.4.1. 简要描述

+ 修改用户密码，返回信息

#### 1.4.2. 请求URL

+ `http://ip:port/login/changepassword`

#### 1.4.3. 请求方式

+ POST

#### 1.4.4. 参数

| 参数名   | 类型   | 说明               |
| -------- | ------ | ------------------ |
| id       | int    | 用户id             |
| password | string | 密码（不超20字符） |

#### 1.4.5. 返回示例

+ 状态码

  + 400

    + -1: 未使用POST访问
    + 1: id未注册
    + 2: 查询到password修改失败

  + 200

    ```json
    {
        "id": 123,
        "name": "xin",
        "img": "images/img.jpg",
        "identity": "student"
    }
    ```

#### 1.4.6. 备注

:no_entry: 返回的`img`是图片在服务器中的路径，不是文件，以后改……

### 1.5 修改头像

#### 1.5.1. 简要描述

+ 修改用户头像，返回信息

#### 1.5.2. 请求URL

+ `http://ip:port/login/changeimg`

#### 1.5.3. 请求方式

+ POST

#### 1.5.4. 参数

| 参数名 | 类型    | 说明     |
| ------ | ------- | -------- |
| id     | int     | 用户id   |
| file   | png/jpg | 图片文件 |

#### 1.5.5. 返回示例

+ 状态码

  + 400

    + -1: 未使用POST访问
    + 1: id未注册
    + 2: 查询到头像修改失败

  + 200

    ```json
    {
        "id": 123,
        "name": "xin",
        "img": "images/img.jpg",
        "identity": "student"
    }
    ```

#### 1.5.6. 备注

:no_entry: 返回的`img`是图片在服务器中的路径，不是文件，以后改……

